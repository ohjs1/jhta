<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>과제1</title>
<style>
	.box {
		margin: auto;
		width: 500px;
	}

	.box label {
		width: 100px;
		display: inline-block;
	}
	.box select {
		height: 25px;
		margin: 5px;
	}
</style>
<script>
	var chk =true;
	function joinUser(){
		var id =document.querySelector("#id").value;

		if(id.length <5){
			alert("아이디는 5자 이상이어야 합니다.");
			chk=false;
		}

		for(var i=0; i<id.length; i++){
			if(!(id.charAt(i) >= 'a' && id.charAt(i) <= 'z')&&
			 !(id.charAt(i) >= '0' && id.charAt(i) <= '9')){
				alert("영어또는 숫자를 입력해주세요.");
				chk=false;
				break;
			}
		}


		var phone =document.querySelector("#phone").value;
		if(!(phone.indexOf("-") == -1)){
			alert("전화번호는 -없이 등록해주세요.");
			chk=false;
		}
		juminCheck();

	}

	function setBirth(){
		var jumin =document.querySelector("#jumin").value;
		var birth =document.querySelector("#birth");
		birth.value ="";

		birth.value +=jumin.substring(2,4) + "월";
		birth.value +=jumin.substring(4,6) + "일";
	}

	function formClear(){
		var id =document.querySelector("#id");
		var pw =document.querySelector("#pwd");
		var email =document.querySelector("#email");
		var jumin =document.querySelector("#jumin");
		var birth =document.querySelector("#birth");
		var phone =document.querySelector("#phone");
		var addr =document.querySelector("#addr");

		id.value ="";
		pw.value ="";
		email.value ="";
		jumin.value ="";
		birth.value ="";
		phone.value ="";
		addr.value ="";
	}

	function juminCheck(){
		var jumin =document.querySelector("#jumin").value;
		var arr1 =jumin.split("");
		var arr2 =["2", "3", "4", "5","6", "7", "8", "9", "2", "3", "4", "5"];
		var sum =0;

		for(var i=0; i<arr2.length; i++){
			sum +=arr1[i] * arr2[i];  //각자리수를 곱한후 더한값 
		}
		console.log("더한값:"+sum);
		var x =(sum%11); //더한값을 11로 나눈 나머지값
		console.log("나눈나머지값:"+x);

		var y =11-x;
		if(y>9){
			console.log("11에서뺸값이 9보다 큼!");
			y = y-10;
		}
		if(y==arr1[12]){
			alert("등록완료!");
		} else {
			alert("존재하지않는 주민등록번호입니다.!");
		}
	}
</script>
</head>
<body>
	<div class="box">
		<label for="id">아이디</label>
		<input type="text" id="id"><br>
		<label for="pwd">비밀번호</label>
		<input type="text" id="pwd"><br>
		<label for="email">이메일</label>
		<input type="text" id="email"><br>
		<label for="jumin">주민등록번호</label>
		<input type="text" id="jumin"><br>
		<label for="birth">생년월일</label>
		<input type="text" id="birth">
		<input type="button" value="확인" onclick="setBirth()">
		<br>
		<label for="phone">전화번호</label>
		<input type="text" id="phone"><br>
		<label for="addr">주소</label>
		<input type="text" id="addr"><br>
		<label for="gender">성별</label>
		<select name="selectg" id="sg">
			<option value="남자"/> 남자
			<option value="여자"/> 여자
		</select>
		<br>
		<input type="button" value="JOIN" onclick="joinUser()">
		<input type="button" value="CANCLE" onclick="formClear()">
	</div>

</body>
</html>